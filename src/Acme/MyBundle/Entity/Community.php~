<?php
// src/Acme/MyBundle/Entity/Community.php
namespace Acme\MyBundle\Entity;

use Doctrine\ORM\Mapping as ORM;

/**
 * @ORM\Entity
 * @ORM\Table(name="community", indexes={@ORM\Index(name="area_idx", columns={"area"}), @ORM\Index(name="unique_idx", columns={"address", "city", "state", "name", "builder"})})
 */
class Community {
	/**
	 * @ORM\Column(type="string", length=100)
	 */
	protected $address;
	/**
	 * @ORM\Column(type="string", length=100)
	 */
	protected $area;
	/**
	 * @ORM\Column(type="string", length=30)
	 */
	protected $builder;
	/**
	 * @ORM\Column(type="string", length=30)
	 */
	protected $city;
	/**
	 * @ORM\Column(type="string", length=30, nullable=true)
	 */
	protected $county;
	/**
	 * @ORM\Column(type="string", length=1000, nullable=true)
	 */
	protected $description;
	/**
	 * @ORM\ManyToMany(targetEntity="Photo", cascade={"persist"})
	 * @ORM\JoinTable(name="communities_facades", joinColumns={@ORM\JoinColumn(name="community_id", referencedColumnName="id")},
	 * inverseJoinColumns={@ORM\JoinColumn(name="photo_id", referencedColumnName="id")})
	 */
	protected $facades;
	/**
	 * @ORM\OneToMany(targetEntity="Home", mappedBy="community")
	 */
	protected $homes;
	/**
	 * @ORM\Column(type="integer")
	 * @ORM\Id
	 * @ORM\GeneratedValue(strategy="AUTO")
	 */
	protected $id;
	/**
	 * @ORM\ManyToMany(targetEntity="Photo", cascade={"persist"})
	 * @ORM\JoinTable(name="communities_images", joinColumns={@ORM\JoinColumn(name="community_id", referencedColumnName="id")},
	 * inverseJoinColumns={@ORM\JoinColumn(name="photo_id", referencedColumnName="id")})
	 */
	protected $images;
	/**
	 * @ORM\Column(type="decimal", precision=10, scale=7, nullable=true)
	 */
	protected $latitude;
	/**
	 * @ORM\Column(type="decimal", precision=10, scale=7, nullable=true)
	 */
	protected $longitude;
	/**
	 * @ORM\ManyToMany(targetEntity="Photo", cascade={"persist"})
	 * @ORM\JoinTable(name="communities_maps", joinColumns={@ORM\JoinColumn(name="community_id", referencedColumnName="id")},
	 * inverseJoinColumns={@ORM\JoinColumn(name="photo_id", referencedColumnName="id")})
	 */
	protected $maps;
	/**
	 * @ORM\Column(type="string", length=100)
	 */
	protected $name;
	/**
	 * @ORM\Column(type="string", length=30, nullable=true)
	 */
	protected $school_district;
	/**
	 * @ORM\ManyToMany(targetEntity="School", cascade={"persist"})
	 * @ORM\JoinTable(name="communities_schools", joinColumns={@ORM\JoinColumn(name="community_id", referencedColumnName="id")},
	 * inverseJoinColumns={@ORM\JoinColumn(name="school_id", referencedColumnName="id")})
	 */
	protected $schools;
	/**
	 * @ORM\Column(type="string", length=10)
	 */
	protected $state;
	/**
	 * @ORM\Column(type="datetime")
	 */
	protected $updated;
	/**
	 * @ORM\Column(type="string", length=10)
	 */
	protected $zipcode;
	
	/**
	 * Constructor
	 */
	public function __construct() {
		$this->facades = new \Doctrine\Common\Collections\ArrayCollection ();
		$this->homes = new \Doctrine\Common\Collections\ArrayCollection ();
		$this->images = new \Doctrine\Common\Collections\ArrayCollection ();
		$this->maps = new \Doctrine\Common\Collections\ArrayCollection ();
		$this->schools = new \Doctrine\Common\Collections\ArrayCollection ();
		$this->updated = new \DateTime ();
	}
}
